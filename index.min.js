!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports._mybricks_render_web=e(require("react")):t._mybricks_render_web=e(t.React)}(this,(function(t){return function(){"use strict";var e={783:function(t,e,n){n.d(e,{Z:function(){return s}});var o=n(359),r=n.n(o);const i={};class s extends r().PureComponent{constructor(){super(...arguments),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){var e;return{hasError:!0,error:(null==t?void 0:t.stack)||(null==t?void 0:t.message)||(null===(e=null==t?void 0:t.toString)||void 0===e?void 0:e.call(t))}}componentDidCatch(t,e){var n,o;console.error(t,e),this.setState({error:(null==t?void 0:t.stack)||(null==t?void 0:t.message)||(null===(n=null==t?void 0:t.toString)||void 0===n?void 0:n.call(t)),errorInfo:(null==e?void 0:e.stack)||(null==e?void 0:e.message)||(null===(o=null==e?void 0:e.toString)||void 0===o?void 0:o.call(e))})}render(){const{hasError:t,error:e,errorInfo:n}=this.state,{children:o,errorTip:s}=this.props;return t?r().createElement("view",{className:i.error},r().createElement("view",null,s||"渲染错误"),r().createElement("view",null,e||n)):o}}},294:function(t,e,n){n.d(e,{Z:function(){return f}});var o=n(359),r=n.n(o),i=n(218),s=n(72),u=n(679),c=n(477),a=n(783),l=n(443);const p=(t,e)=>{t.forEach((t=>{t.comAray?p(t.comAray,e):e[`${t.namespace}-${t.version}`]=t}))};function f({json:t,opts:e}){const n=(0,o.useMemo)((()=>e.comInstance||{}),[]),f=(0,o.useMemo)((()=>{let t=null;e.comDefs&&(t={},Object.assign(t,e.comDefs));let n=[...window.__comlibs_edit_||[],...window.__comlibs_rt_||[]];if(!t){if(!n.length)throw new Error('组件库为空，请检查是否通过<script src="组件库地址"><\/script>加载或通过comDefs传入了组件库运行时.');t={}}return n.forEach((e=>{const n=e.comAray;n&&Array.isArray(n)&&p(n,t)})),t}),[]),d=(0,o.useCallback)((t=>{const e=f[t.namespace+"-"+t.version];if(!e){const e=[];for(let n in f)n.startsWith(t.namespace+"-")&&e.push(f[n]);if(e&&e.length>0){e.sort(((t,e)=>(0,u.yC)(t.version,e.version)));const n=e[0];return console.warn(`【Mybricks】组件${t.namespace+"@"+t.version}未找到，使用${n.namespace}@${n.version}代替.`),n}throw console.log(f),new Error(`组件${t.namespace+"@"+t.version}未找到，请确定是否存在该组件以及对应的版本号.`)}return e}),[]),g=(0,o.useMemo)((()=>{var t;return(null===(t=null==e?void 0:e.env)||void 0===t?void 0:t.silent)&&(0,c.JE)(),Object.assign({runtime:{},i18n(t){return t},canvasElement:document.body},e.env)}),[]),{slot:m}=t,y=(0,o.useMemo)((()=>t=>{console.error(t)}),[]),h=(0,o.useMemo)((()=>Object.assign(Object.assign({},console),{error:t=>{console.error(t)}})),[]),[v,b]=(0,o.useMemo)((()=>{try{let o;return[(0,i.Z)({json:t,comInstance:n,getComDef:d,events:e.events,env:g,ref(t){o=t,e.ref&&e.ref(t)},onError:y,logger:h},{observable:e.observable||l.L}),o]}catch(t){throw console.error(t),new Error("导出的JSON.script执行异常.")}}),[]);return(0,o.useLayoutEffect)((()=>{b.run()}),[]),r().createElement(a.Z,{errorTip:"页面渲染错误"},r().createElement(s.Z,{env:g,slot:m,getComDef:d,getContext:v.get,__rxui_child__:!e.observable,onError:y,logger:h}))}},72:function(t,e,n){n.d(e,{Z:function(){return l}});var o=n(359),r=n.n(o),i=n(679),s=n(783),u=n(443),c=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n};const a={};function l({scope:t,slot:e,params:n,inputs:o,outputs:i,_inputs:s,_outputs:u,wrapper:c,template:l,env:f,getComDef:m,getContext:y,__rxui_child__:h,onError:v,logger:b}){const{style:x,comAry:_}=e,w=[];if(_.forEach(((e,n)=>{const{id:c,def:d,name:g}=e;if(m(d)){const a=y(c,t,{inputs:o,outputs:i,_inputs:s,_outputs:u}),d=(t?t.id:"")+n;w.push({id:c,jsx:r().createElement(p,{key:d,com:e,getComDef:m,getContext:y,scope:t,props:a,env:f,template:l,onError:v,logger:b,__rxui_child__:h}),name:g,inputs:a.inputsCallable,style:a.style})}else{const t=r().createElement("view",{className:a.error},"组件 (namespace = ",d.namespace,"）未找到.");w.push({id:c,jsx:t,name:g})}})),"function"==typeof c)return c(w);{const t=null==n?void 0:n.style,e=t||x;return r().createElement("view",{className:g(e),style:d(e,!!t)},w.map((t=>t.jsx)))}}const p=(0,u.P)((function({com:t,props:e,scope:n,template:u,env:c,getComDef:l,getContext:p,__rxui_child__:d,onError:g,logger:m}){const{id:y,def:h,name:v,slots:b={}}=t,{data:x,title:_,style:w,inputs:E,outputs:I,_inputs:k,_outputs:j,_notifyBindings:C}=e,P=l(h),$=new Proxy(b,{get(t,e){const o=p(y,e),i=`组件(namespace=${h.namespace}）的插槽(id=${e})`;if(!o)throw new Error(`${i} 获取context失败.`);return{render(t){const s=b[e];return s?r().createElement(f,{slotId:e,slot:s,props:o,params:t,style:w,onError:g,logger:m,env:c,scope:n,getComDef:l,getContext:p,__rxui_child__:d}):r().createElement("view",{className:a.error},i," 未找到.")},get size(){var t,n;return!!(null===(n=null===(t=b[e])||void 0===t?void 0:t.comAry)||void 0===n?void 0:n.length)},_inputs:o._inputs,inputs:o.inputs,outputs:o.outputs}}}),O=(0,o.useMemo)((()=>{if(e.frameId&&e.parentComId){const t=p(e.parentComId,e.frameId,null==n?void 0:n.parent);if(t)return{get _inputs(){return new Proxy({},{get(e,n){return t._inputRegs[n]}})}}}}),[]),S=function({style:t}){const e=[a.com];1===t.flex&&e.push(a.flex);return e.join(" ")}({style:w}),T=function({style:t}){const e={},{width:n,height:o}=t;n?(0,i.hj)(n)?e.width=n+"px":n&&(e.width=n):e.width="100%";(0,i.hj)(o)?e.height=o+"px":o&&(e.height=o);return e}({style:w}),M=function({style:t}){const e={},{width:n,marginTop:o,marginLeft:r,marginRight:s,marginBottom:u}=t;(0,i.hj)(o)&&(e.marginTop=o+"px");(0,i.hj)(r)&&("number"==typeof n||r<0?e.marginLeft=r+"px":e.paddingLeft=r+"px");(0,i.hj)(s)&&("number"==typeof n||s<0?e.marginRight=s+"px":e.paddingRight=s+"px");(0,i.hj)(u)&&(e.marginBottom=u+"px");return e}({style:w}),R={};["fixed","absolute"].includes(w.position)&&("fixed"===w.position&&"bottom"===w.fixedY?R.bottom=(0,i.hj)(w.bottom)?w.bottom+"px":w.bottom:w.top&&(R.top=(0,i.hj)(w.top)?w.top+"px":w.top),"fixed"===w.position&&"right"===w.fixedX?R.right=(0,i.hj)(w.right)?w.right+"px":w.right:w.left?R.left=(0,i.hj)(w.left)?w.left+"px":w.left:"fixed"===w.position&&(R.zIndex=1e3));let F=P.runtime({id:y,env:c,data:x,name:v,title:_,style:w,inputs:E,outputs:I,_inputs:k,_outputs:j,_notifyBindings:C,slots:$,createPortal:t=>{},parentSlot:O,__rxui_child__:d,onError:g,logger:m});return"function"==typeof u&&(F=u({id:y,jsx:F,name:v})),F=F?r().createElement("view",{key:y,style:Object.assign(Object.assign(Object.assign(Object.assign({display:w.display,position:w.position||"relative"},R),T),M),w.ext||{}),className:S},r().createElement(s.Z,{errorTip:`组件 (namespace = ${h.namespace}@${h.version}）渲染错误`},F)):null,F})),f=(0,o.memo)((({slotId:t,props:e,slot:n,params:o,scope:s,env:u,style:c,getComDef:a,getContext:p,onError:f,logger:d,__rxui_child__:g})=>{let m,y;if(o&&"scope"===(null==n?void 0:n.type)){m={id:(0,i.Vj)(),frameId:t},s&&(m.parent=s)}else m=s;if(e.run(m),o){const t=o.inputValues;if("object"==typeof t)for(let n in t)e.inputs[n](t[n],m);"function"==typeof o.wrap&&(y=o.wrap)}return r().createElement(l,{scope:m,env:u,slot:n,params:o,wrapper:y,template:null==o?void 0:o.itemWrap,getComDef:a,getContext:p,inputs:null==o?void 0:o.inputs,outputs:null==o?void 0:o.outputs,_inputs:null==o?void 0:o._inputs,_outputs:null==o?void 0:o._outputs,onError:f,logger:d,__rxui_child__:g})}),((t,e)=>{var n,o,r,i;const s=null===(n=t.params)||void 0===n?void 0:n.key,u=null===(o=null==e?void 0:e.params)||void 0===o?void 0:o.key;if(void 0===s&&void 0===u)return!0;if(s!==u)return!1;if(void 0!==s&&void 0!==u&&s===u)try{if(JSON.stringify(null===(r=t.params)||void 0===r?void 0:r.inputValues)!==JSON.stringify(null===(i=e.params)||void 0===i?void 0:i.inputValues))return!1}catch(t){}return!0}));function d(t,e){const{paddingLeft:n,paddingTop:o,paddingRight:r,paddingBottom:i,background:s}=t,u=c(t,["paddingLeft","paddingTop","paddingRight","paddingBottom","background"]);let a={paddingLeft:n||0,paddingTop:o||0,paddingRight:r||0,paddingBottom:i||0};if("object"==typeof s){const{background:t,backgroundImage:e,backgroundColor:n,backgroundRepeat:o,backgroundSize:r}=s;a.backgroundRepeat=o,a.backgroundSize=r,t?a.background=t:(a.backgroundImage=e,a.backgroundColor=n)}else a.background=s;return e&&(a=Object.assign(a,u)),a}function g(t){var e,n;const o=[a.slot],r=t;if(r){"flex-column"==(null===(e=r.layout)||void 0===e?void 0:e.toLowerCase())?o.push(a.lyFlexColumn):"flex-row"==(null===(n=r.layout)||void 0===n?void 0:n.toLowerCase())&&o.push(a.lyFlexRow);const t=r.justifyContent;t&&("FLEX-START"===t.toUpperCase()?o.push(a.justifyContentFlexStart):"CENTER"===t.toUpperCase()?o.push(a.justifyContentFlexCenter):"FLEX-END"===t.toUpperCase()?o.push(a.justifyContentFlexFlexEnd):"SPACE-AROUND"===t.toUpperCase()?o.push(a.justifyContentFlexSpaceAround):"SPACE-BETWEEN"===t.toUpperCase()&&o.push(a.justifyContentFlexSpaceBetween));const i=r.alignItems;i&&("FLEX-START"===i.toUpperCase()?o.push(a.alignItemsFlexStart):"CENTER"===i.toUpperCase()?o.push(a.alignItemsFlexCenter):"FLEX-END"===i.toUpperCase()&&o.push(a.alignItemsFlexFlexEnd))}return o.join(" ")}},218:function(t,e,n){n.d(e,{Z:function(){return s}});var o=n(477),r=n(679);const i="_rootFrame_";function s(t,{observable:e}){const{json:n,comInstance:s,getComDef:u,env:c,ref:a,onError:l,logger:p}=t,{slot:f,coms:d,comsAutoRun:g,cons:m,pinRels:y,pinProxies:h,pinValueProxies:v}=n,b=c,x={},_={},w={},E={},I={};Object.keys(m).forEach((t=>{const e=m[t],{startPinParentKey:n}=e[0];n&&(I[n]=t)}));const k={},j={};function C(t,e,n,o,s){function u(t,n){var i;const s=h[t.comId+"-"+t.pinId];if(s){if(j[`${s.frameId}-${s.pinId}`]=e,o&&o.finishPinParentKey!==t.startPinParentKey)return;if("frame"===s.type){const o=P(t.comId,n);let i;return i={id:(0,r.Vj)(),frameId:s.frameId,parent:n,proxyComProps:o},void R(s,e,i)}}if("com"===t.type)o?o.finishPinParentKey===t.startPinParentKey&&$(t,e,n):$(t,e,n);else{if("frame"!==t.type)throw new Error("尚未实现");if(o&&o.finishPinParentKey!==t.startPinParentKey)return;if(t.comId){if("inner-input"===t.direction){const n=_[t.comId+"-"+t.frameId+"-"+t.pinId];n&&n(e)}else if("inner-output"===t.direction&&"joint"===t.pinType){const n=m[t.comId+"-"+t.frameId+"-"+t.pinId];n&&C(n,e)}}else{const o=null==n?void 0:n.proxyComProps;if(o){const r=o.outputs[t.pinId];if(r)return void r(e,n.parent)}null===(i=E[t.pinId])||void 0===i||i.call(E,e)}}}t.forEach((t=>{let e=n;if(s){const n=t.frameKey;if(!n)throw new Error("数据异常，请检查toJSON结果.");if(n===i)u(t,{});else{const o=n.split("-");if(o.length>=2){const n=T(o[0],o[1]);n.curScope?(n.curScope!==e&&(e=n.curScope),u(t,e)):n.pushTodo((n=>{n!==e&&(e=n),u(t,e)}))}}}else u(t,e)}))}function P(n,r){const s=d[n];if(!s)return null;const a=n+(s.frameId||i);let f,g=x[a];g||(g=x[a]={});let v=r;for(;v;){const t=v.id+"-"+n;if(v.frameId===s.frameId){f=v.id;const e=g[t];if(e)return e;break}v=v.parent}const b=(f?f+"-":"")+n,_=g[b];if(_)return _;const w=s.def,E=s.model;let I=t?JSON.parse(JSON.stringify(E)):E;const k=e(I),O={},S={},T={},M={},R=function(t){return new Proxy({},{ownKeys(t){return s.inputs},getOwnPropertyDescriptor(t){return{enumerable:!0,configurable:!0}},get(e,n){return function(e){const o=null==t?void 0:t.inputs;if(o){const t=o[n];"function"==typeof t&&t(e)}O[n]=e;const r=S[n];r&&(r.forEach((({val:t,fromCon:n,fromScope:o})=>{e(t,new Proxy({},{get(t,e){return function(t){const r=A()[e];if("function"!=typeof r)throw new Error(`outputs.${e} not found`);r(t,o||v,n)}}}))})),S[n]=void 0)}}})},F=new Proxy({},{get(t,e){return function(t){const o=y[n+"-"+e];if(o){const i={},s={};return o.forEach((t=>{i[t]=e=>{s[t]=e}})),Promise.resolve().then((()=>{$({comId:n,def:w,pinId:e},t,r,s)})),i}$({comId:n,def:w,pinId:e},t,r)}}}),A=function(t){return new Proxy({},{ownKeys(t){return s.outputs},getOwnPropertyDescriptor(t){return{enumerable:!0,configurable:!0}},get(e,i,a){return function(e,a,l){const p="boolean"==typeof a&&a,f=arguments,d=null==t?void 0:t.outputs;if(d){const t=d[i];"function"==typeof t&&t(e)}let g;a&&"object"==typeof a&&(g=a);const y=u(w);(0,o.J2)(s.title,y,i,e);const v=E.outputEvents;let b;if(v){const t=v[i];if(t&&Array.isArray(t)){const o=t.find((t=>t.active));if(o){const{type:t}=o;switch(t){case"none":b=[];break;case"fx":const r=h[n+"-"+i];if("frame"===(null==r?void 0:r.type)){const t=`${r.frameId}-${r.pinId}`;b=m[t]||[],j[t]=e}else b=[];break;case"defined":break;default:if(b=[],Array.isArray(null==c?void 0:c.events)){const e=c.events.find((e=>{if(e.type===t)return e}));e&&"function"==typeof e.exe&&e.exe({options:o.options})}}}}}b=b||m[n+"-"+i],(null==b?void 0:b.length)&&(f.length>=3?C(b,e,g,l):C(b,e,g||r,l,p))}}})},N=new Proxy({},{get(t,e,n){return function(t){T[e]=t;const n=M[e];n&&(n.forEach((e=>{t(e)})),M[e]=void 0)}}}),D=new Proxy({},{get(t,e,i){return function(t){const i=m[n+"-"+e];i&&((0,o.J2)(s.title,w,e,t),C(i,t,r))}}});const K={title:s.title,frameId:s.frameId,parentComId:s.parentComId,data:k.data,style:k.style,_inputRegs:O,addInputTodo:(t,e,n,o)=>{let r=S[t];r||(S[t]=r=[]),r.push({val:e,fromCon:n,fromScope:o})},inputs:R(),inputsCallable:F,outputs:A(),_inputs:N,_outputs:D,clone(t){const e={inputs:R(t),outputs:A(t)};return Object.setPrototypeOf(e,this),e},_notifyBindings:function(t){const{bindingsTo:e}=s.model;if(e)for(let n in e){const o=P(n);if(o){const r=e[n];Array.isArray(r)&&r.forEach((e=>{let n=o;const r=e.split(".");r.forEach(((e,o)=>{o!==r.length-1?n=n[e]:n[e]=t}))}))}}},logger:p,onError:l};return g[b]=K,K}function $(t,e,n,r){var i;const{comId:c,def:a,pinId:f,pinType:g,frameKey:h,finishPinParentKey:_}=t;if("ext"===g){const t=x[c]||P(c,n);if("show"===f)t.style.display="";else if("hide"===f)t.style.display="none";else if("showOrHide"===f){const e=t.style;"none"===e.display?e.display="":e.display="none"}}else if("config"===g){const r=P(c,n),i=u(a);(0,o.Wg)(r.title,i,f,e);const{extBinding:s}=t,l=s.split(".");let p=r;l.forEach(((t,n)=>{n!==l.length-1?p=p[t]:p[t]=e}))}else if(null===(i=a.rtType)||void 0===i?void 0:i.match(/^js/gi)){if(d[c]){const r=P(c,n),i=u(a),d=null==n?void 0:n.id,g=(d?d+"-":"")+c;(0,o.Wg)(r.title,i,f,e),w[g]||(w[g]=!0,"function"==typeof(null==s?void 0:s[c])?s[c]({id:c,env:b,data:r.data,inputs:r.inputs,outputs:r.outputs,_notifyBindings:r._notifyBindings,logger:p,onError:l}):i.runtime({id:c,env:b,data:r.data,inputs:r.inputs,outputs:r.outputs,_notifyBindings:r._notifyBindings,logger:p,onError:l}));const{realId:m,realVal:y,isReady:x,isMultipleInput:_}=O(t,e,r);(_&&x||!_)&&r._inputRegs[m](y,new Proxy({},{get(e,o){return function(e){if(v){const t=v[`${c}-${f}`];t&&(e=j[`${h}-${t.pinId}${n?`-${n.id}-${n.frameId}`:""}`])}r.outputs[o](e,n,t)}}}))}}else{const i=P(c,n),s=u(a);(0,o.Wg)(i.title,s,f,e);const{realId:l,realVal:p,isReady:d,isMultipleInput:g}=O(t,e,i),m=i._inputRegs[l];if(g&&d||!g)if("function"==typeof m){let e;e=r||new Proxy({},{get(e,o){return function(e){i.outputs[o](e,n,t)}}}),m(p,e)}else i.addInputTodo(l,p,t,n)}if(_){const t=m[I[_]];t&&!y[`${c}-${f}`]&&C(t,void 0)}}function O(t,e,n){const{pinId:o,comId:r}=t,i=o.indexOf(".");if(-1!==i){let t=o.substring(0,i);const s=o.substring(i+1);let u=k[r];u||(u=k[r]={}),u[s]=e;const c=new RegExp(`${t}.`),a=Object.keys(n.inputs).filter((t=>!!t.match(c)));return Object.keys(u).length===a.length?(delete k[r],{isMultipleInput:!0,isReady:!0,realId:t,realVal:u}):{isMultipleInput:!0,isReady:!1}}return{isMultipleInput:!1,isReady:!0,realId:o,realVal:e}}function S(t,e){if(t.comAry)return t.comAry.find((t=>{if(t.id===e)return t;if(t.slots)for(let n in t.slots){const o=S(t.slots[n],e);if(o)return o}}))}function T(t,e,n){const o=t+"-"+e;let r=x[o];if(!r){const i=S(f,t).slots[e],s={},u={scope:n,todo:void 0},c=new Proxy({},{get(t,e){return function(t){s[e]=t}}}),a=new Proxy({},{get(n,o){return function(n,r){const i=t+"-"+e+"-"+o,s=m[i];j[`${i}${r?`-${r.id}-${r.frameId}`:""}`]=n,s&&C(s,n,r||u.scope)}}}),l=new Proxy({},{get(t,e,n){return function(t){_[o+"-"+e]=t}}});let p;r=x[o]={type:null==i?void 0:i.type,run(n){u.scope=n,p||(p=!0,M({comId:t,frameId:e,scope:n})),Array.isArray(u.todo)&&(u.todo.forEach((t=>{t(n)})),u.todo=void 0)},_inputs:c,_inputRegs:s,inputs:a,outputs:l,get curScope(){return u.scope},pushTodo(t){u.todo||(u.todo=[]),u.todo.push(t)}}}return r}function M(t){const{comId:e,frameId:n,scope:r}=t,i=g[e?`${e}-${n}`:`${n}`];i&&i.forEach((t=>{const{id:e,def:n}=t;if(d[e]){const t=P(e,r),i=u(n);(0,o.cM)(`${i.namespace} 开始执行`),"function"==typeof(null==s?void 0:s[e])?s[e]({id:e,env:b,data:t.data,inputs:t.inputs,outputs:t.outputs,logger:p,onError:l}):i.runtime({id:e,env:b,data:t.data,inputs:t.inputs,outputs:t.outputs,logger:p,onError:l})}}))}function R(t,e,n){const{frameId:o,comId:r,pinId:i}=t,s=m[(r?`${r}-${o}`:`${o}`)+"-"+i];s&&C(s,e,n)}return"function"==typeof a&&a({run(){M({frameId:i})},inputs:new Proxy({},{get(t,e){return function(t){R({frameId:i,pinId:e},t)}}}),outputs(t,e){E[t]=e}}),{get(t,e,n,o){let r,i,s;for(let t=0;t<arguments.length;t++){const e=arguments[t];t>0&&"string"==typeof e&&(r=e),"object"==typeof e&&(e.inputs||e.outputs||e._inputs||e._outputs?s=e:(e.id||e.parent)&&(i=e))}if(r)return T(t,r,i);{const e=P(t,i);return s?e.clone(s):e}}}}},477:function(t,e,n){n.d(e,{J2:function(){return a},JE:function(){return r},Wg:function(){return c},cM:function(){return u}});let o=!1;function r(){o=!0}const i="__IOEventList__",s={log:(...t)=>{window[i]||(window[i]=[]),window[i].push(t[0]),console.log(...t)}};function u(t){console.log(`%c[Mybricks]%c ${t}\n`,"color:#FFF;background:#fa6400","","")}function c(t,e,n,r){if(o)return;let i;try{i=JSON.stringify(r)}catch(t){i=r}s.log(`%c[Mybricks] 输入项 %c ${t||e.title||e.namespace} | ${n} -> ${i}`,"color:#FFF;background:#000","","")}function a(t,e,n,r){if(o)return;let i;try{i=JSON.stringify(r)}catch(t){i=r}s.log(`%c[Mybricks] 输出项 %c ${t||e.title||e.namespace} | ${n} -> ${i}`,"color:#FFF;background:#fa6400","","")}},131:function(t,e,n){n.d(e,{ep:function(){return o.e},in:function(){return s},kU:function(){return i},st:function(){return r.s}});var o=n(180),r=n(872);const i=new WeakMap,s=new WeakMap},872:function(t,e,n){n.d(e,{s:function(){return r}});var o=n(131);const r=new class{constructor(){this.reactionStack=[]}regist(t){let e=this.getCurrentReaction();e&&o.ep.registReaction(e,t)}autoRun(t,e){const{reactionStack:n}=this;if(-1===n.indexOf(t))try{return n.push(t),e()}finally{n.pop()}}getCurrentReaction(){const{reactionStack:t}=this;return t[t.length-1]}}},180:function(t,e,n){n.d(e,{e:function(){return s}});var o=n(679),r=n(131);function i(t){t()}const s=new class{constructor(){this.taskMap=new WeakMap,this.reactionToTaskMap=new WeakMap}addTask(t){this.taskMap.set(t,new Map)}deleteTask(t){var e;if(!(0,o.Kn)(t))return;const n=r.kU.get(t);r.kU.delete(t),r.in.delete(n);const i=this.taskMap.get(n);this.taskMap.delete(n);for(let t of i.keys()){this.deleteTask(r.in.get(n[t]));const o=i.get(t);null===(e=null==o?void 0:o.forEach)||void 0===e||e.call(o,(t=>{this.deleteReaction(t)}))}}deleteReaction(t){let e=this.reactionToTaskMap.get(t);e&&(this.reactionToTaskMap.delete(t),e.forEach((e=>{e.forEach((e=>{e.delete(t)}))})))}registReaction(t,{target:e,key:n}){const o=this.taskMap.get(e);if(o){let e=o.get(n);e||(e=new Set,o.set(n,e)),e.has(t)||e.add(t);let r=this.reactionToTaskMap.get(t);r||(r=new Set,this.reactionToTaskMap.set(t,r)),r.has(o)||r.add(o)}}getReactions({target:t,key:e}){const n=this.taskMap.get(t);if(!n)return[];return n.get(e)||[]}runTask(t){const e=this.getReactions(t);e.size&&e.forEach(i)}}},819:function(t,e,n){var o=n(443),r=n(679),i=n(131);e.Z={get:function(t,e){const n=t[e];if(["$$typeof","constructor"].includes(e))return n;i.st.regist({target:t,key:e});const s=i.in.get(n);return(0,r.Kn)(n)?s||(0,o.L)(n):s||n},set:function(t,e,n){(0,r.Kn)(n)&&(n=i.kU.get(n)||n);const o=Object.hasOwnProperty.call(t,e),s=t[e];t[e]=n;let u=!1;switch(!0){case!o||Array.isArray(t)&&"length"===e:case n!==s:u=!0}return u&&(i.ep.runTask({target:t,key:e}),i.ep.deleteTask(i.in.get(s))),!0}}},443:function(t,e,n){n.d(e,{L:function(){return c},P:function(){return u}});var o=n(359),r=n(131),i=n(679),s=n(819);function u(t){return function(e){var n;const r=(0,o.useRef)(null),[,i]=(0,o.useState)([]),s=(0,o.useCallback)((()=>{i([])}),[]);let u;return(0,o.useMemo)((()=>{r.current||(r.current=new a(s))}),[]),(0,o.useEffect)((()=>()=>{var t;null===(t=r.current)||void 0===t||t.destroy(),r.current=null}),[]),null===(n=r.current)||void 0===n||n.track((()=>{u=t(e)})),u}}function c(t){return(0,i.Kn)(t)?r.kU.has(t)?t:r.in.get(t)||function(t){const e=s.Z,n=new Proxy(t,e);return r.in.set(t,n),r.kU.set(n,t),r.ep.addTask(t),n}(t):{}}class a{constructor(t){this.update=t}track(t){r.st.autoRun(this.update,t)}destroy(){r.ep.deleteReaction(this.update)}}},679:function(t,e,n){function o(t){return t&&"object"==typeof t}function r(t){return"number"==typeof t&&!isNaN(t)}function i(t,e){const n=t.split("."),o=e.split("."),r=n.length,i=o.length,s=Math.min(r,i);let u=0;for(;u<s;u++){let t=parseInt(n[u]),e=parseInt(o[u]);if(t>e)return 1;if(t<e)return-1}if(r>i){for(let t=u;t<r;t++)if(0!=parseInt(n[t]))return 1;return 0}if(r<i){for(let t=u;t<i;t++)if(0!=parseInt(o[t]))return-1;return 0}return 0}function s(t=5,e=8){const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];if(e=e||n.length,t)for(let r=0;r<t;r++)o[r]=n[0|Math.random()*e];else{let t;o[8]=o[13]=o[18]=o[23]="-",o[14]="4";for(let e=0;e<36;e++)o[e]||(t=0|16*Math.random(),o[e]=n[19==e?3&t|8:t])}return o.join("")}n.d(e,{Kn:function(){return o},Vj:function(){return s},hj:function(){return r},yC:function(){return i}})},359:function(e){e.exports=t},147:function(t){t.exports=JSON.parse('{"u2":"@mybricks/render-taro","i8":"1.0.0"}')}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,o),i.exports}o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,{a:e}),e},o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return function(){o.r(r),o.d(r,{render:function(){return s}});var t=o(359),e=o.n(t),n=o(294),i=o(147);function s(t,o={}){return e().createElement(n.Z,{json:t,opts:o})}console.log(`%c ${i.u2} %c@${i.i8}`,"color:#FFF;background:#fa6400","","")}(),r}()}));